<html>


<body>
<head>
<script src="https://cdn.rawgit.com/ioinfinity/html2canvas/0.4.1/build/html2canvas.js"></script>
<script src="https://cdn.rawgit.com/ioinfinity/canvas2image/8a539467/canvas2image.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="download_body_screenshot.js"></script>
<script type="text/javascript">
		$(document).ready(function(){
		
			$("#show_button").click(function () {
			    html2canvas(document.body, {
			      onrendered: function (canvas) {
			        $("<img/>", {
			          id: "image",
			          src: canvas.toDataURL("image/png"),
			          width: '100%',
			          height: '100%'
			        }).appendTo($("#show_img").empty());
			      }
			    });
			    //$('#download').attr("href") = canvas.toDataURL("image/png");
			  });
			
		});
		
	</script>

</head>
<body>
	<h1>test</h1>
	<button id="show_button">Show Image</button>
	<a id="download" onclick="downloadBodyScreenshot('TestSaveImage', 'jpeg')" >download</a>
	<button onclick="downloadBodyScreenshot('TestSaveImage', 'jpeg')">Download</button>
	<div id="show_img">
	</div>	
	
</body>

</html>